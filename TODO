TODO

1) [ISSUE:] Implement the problematic one: link(:action, [@parent, @resource])

* Fix action mapping procs to handle named scopes. Should work, but do not for some reason. =/

* Fix action mapping procs to receive session, params, etc in a options hash. My mocking/stubbing don't want to work. ='(

* Check Rails 3 compatibility.

* Link2::Brain#link_to_args MUST be refactored when the DSL is 100% settled. Not far from it, but feedback first.

* Integration tests for namespaced controllers/models

* This works:
    link_to x, :terms   =>  link_to x, terms_path

  So maybe this should work the same?:
    link :terms, :terms  <=>  link :terms   =>  link :terms, terms_path

  The middle part (auto-detect route for :fraggle before resource :fraggle) maybe too abstract DSL, not sure.

* ORM-tests: DataMapper, MongoMapper

NOT SURE:

* Check with Rails routes (RouteSet) if current action is a :member or :collection, and look for resource vs. collection:

    link(:show)   =>  link(@post)     =>  link(:show, @post)      =>  link("Show", @posts)
    link(:index)  =>  link(@posts)    =>  link(:index, @posts)    =>  link("Index", @posts)

  Current implementation is a bit dumber but should work okay: resource_or_collection = @post || @posts, where
  @post is tried first. Maybe should be developers responsibility like now...

* Make Link2 parse label and title-attribute for the link based on configuration: Link2.label_method = :to_s, Link2.attr_methods = {:title => :description}

* Add support for: #link_to_remote + #button_to_remote in Rails 2.x, with:

    link(..., :remote => true)

  ...or not: Maybe only support in Rails 3.